import{useState as e,useRef as r,useEffect as t,useCallback as a,useMemo as n}from"react";import{FontAwesomeIcon as o}from"@fortawesome/react-fontawesome";import{jsxs as s,jsx as i,Fragment as l}from"react/jsx-runtime";import{useLocation as c,useNavigate as d}from"react-router-dom";import u from"axios";function m(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var g,p={exports:{}},h={exports:{}},f={};var b,y,x,v,w,N,A,L,C,M,j,k,S,T,E={};
/** @license React v16.13.1
 * react-is.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function I(){return y||(y=1,"production"===process.env.NODE_ENV?h.exports=function(){if(g)return f;g=1;var e="function"==typeof Symbol&&Symbol.for,r=e?Symbol.for("react.element"):60103,t=e?Symbol.for("react.portal"):60106,a=e?Symbol.for("react.fragment"):60107,n=e?Symbol.for("react.strict_mode"):60108,o=e?Symbol.for("react.profiler"):60114,s=e?Symbol.for("react.provider"):60109,i=e?Symbol.for("react.context"):60110,l=e?Symbol.for("react.async_mode"):60111,c=e?Symbol.for("react.concurrent_mode"):60111,d=e?Symbol.for("react.forward_ref"):60112,u=e?Symbol.for("react.suspense"):60113,m=e?Symbol.for("react.suspense_list"):60120,p=e?Symbol.for("react.memo"):60115,h=e?Symbol.for("react.lazy"):60116,b=e?Symbol.for("react.block"):60121,y=e?Symbol.for("react.fundamental"):60117,x=e?Symbol.for("react.responder"):60118,v=e?Symbol.for("react.scope"):60119;function w(e){if("object"==typeof e&&null!==e){var m=e.$$typeof;switch(m){case r:switch(e=e.type){case l:case c:case a:case o:case n:case u:return e;default:switch(e=e&&e.$$typeof){case i:case d:case h:case p:case s:return e;default:return m}}case t:return m}}}function N(e){return w(e)===c}return f.AsyncMode=l,f.ConcurrentMode=c,f.ContextConsumer=i,f.ContextProvider=s,f.Element=r,f.ForwardRef=d,f.Fragment=a,f.Lazy=h,f.Memo=p,f.Portal=t,f.Profiler=o,f.StrictMode=n,f.Suspense=u,f.isAsyncMode=function(e){return N(e)||w(e)===l},f.isConcurrentMode=N,f.isContextConsumer=function(e){return w(e)===i},f.isContextProvider=function(e){return w(e)===s},f.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===r},f.isForwardRef=function(e){return w(e)===d},f.isFragment=function(e){return w(e)===a},f.isLazy=function(e){return w(e)===h},f.isMemo=function(e){return w(e)===p},f.isPortal=function(e){return w(e)===t},f.isProfiler=function(e){return w(e)===o},f.isStrictMode=function(e){return w(e)===n},f.isSuspense=function(e){return w(e)===u},f.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===c||e===o||e===n||e===u||e===m||"object"==typeof e&&null!==e&&(e.$$typeof===h||e.$$typeof===p||e.$$typeof===s||e.$$typeof===i||e.$$typeof===d||e.$$typeof===y||e.$$typeof===x||e.$$typeof===v||e.$$typeof===b)},f.typeOf=w,f}():h.exports=(b||(b=1,"production"!==process.env.NODE_ENV&&function(){var e="function"==typeof Symbol&&Symbol.for,r=e?Symbol.for("react.element"):60103,t=e?Symbol.for("react.portal"):60106,a=e?Symbol.for("react.fragment"):60107,n=e?Symbol.for("react.strict_mode"):60108,o=e?Symbol.for("react.profiler"):60114,s=e?Symbol.for("react.provider"):60109,i=e?Symbol.for("react.context"):60110,l=e?Symbol.for("react.async_mode"):60111,c=e?Symbol.for("react.concurrent_mode"):60111,d=e?Symbol.for("react.forward_ref"):60112,u=e?Symbol.for("react.suspense"):60113,m=e?Symbol.for("react.suspense_list"):60120,g=e?Symbol.for("react.memo"):60115,p=e?Symbol.for("react.lazy"):60116,h=e?Symbol.for("react.block"):60121,f=e?Symbol.for("react.fundamental"):60117,b=e?Symbol.for("react.responder"):60118,y=e?Symbol.for("react.scope"):60119;function x(e){if("object"==typeof e&&null!==e){var m=e.$$typeof;switch(m){case r:var h=e.type;switch(h){case l:case c:case a:case o:case n:case u:return h;default:var f=h&&h.$$typeof;switch(f){case i:case d:case p:case g:case s:return f;default:return m}}case t:return m}}}var v=l,w=c,N=i,A=s,L=r,C=d,M=a,j=p,k=g,S=t,T=o,I=n,D=u,O=!1;function z(e){return x(e)===c}E.AsyncMode=v,E.ConcurrentMode=w,E.ContextConsumer=N,E.ContextProvider=A,E.Element=L,E.ForwardRef=C,E.Fragment=M,E.Lazy=j,E.Memo=k,E.Portal=S,E.Profiler=T,E.StrictMode=I,E.Suspense=D,E.isAsyncMode=function(e){return O||(O=!0),z(e)||x(e)===l},E.isConcurrentMode=z,E.isContextConsumer=function(e){return x(e)===i},E.isContextProvider=function(e){return x(e)===s},E.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===r},E.isForwardRef=function(e){return x(e)===d},E.isFragment=function(e){return x(e)===a},E.isLazy=function(e){return x(e)===p},E.isMemo=function(e){return x(e)===g},E.isPortal=function(e){return x(e)===t},E.isProfiler=function(e){return x(e)===o},E.isStrictMode=function(e){return x(e)===n},E.isSuspense=function(e){return x(e)===u},E.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===c||e===o||e===n||e===u||e===m||"object"==typeof e&&null!==e&&(e.$$typeof===p||e.$$typeof===g||e.$$typeof===s||e.$$typeof===i||e.$$typeof===d||e.$$typeof===f||e.$$typeof===b||e.$$typeof===y||e.$$typeof===h)},E.typeOf=x}()),E)),h.exports}
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/function D(){if(v)return x;v=1;var e=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,t=Object.prototype.propertyIsEnumerable;return x=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var r={},t=0;t<10;t++)r["_"+String.fromCharCode(t)]=t;if("0123456789"!==Object.getOwnPropertyNames(r).map((function(e){return r[e]})).join(""))return!1;var a={};return"abcdefghijklmnopqrst".split("").forEach((function(e){a[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},a)).join("")}catch(e){return!1}}()?Object.assign:function(a,n){for(var o,s,i=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(a),l=1;l<arguments.length;l++){for(var c in o=Object(arguments[l]))r.call(o,c)&&(i[c]=o[c]);if(e){s=e(o);for(var d=0;d<s.length;d++)t.call(o,s[d])&&(i[s[d]]=o[s[d]])}}return i},x}function O(){if(N)return w;N=1;return w="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}function z(){return L?A:(L=1,A=Function.call.bind(Object.prototype.hasOwnProperty))}if("production"!==process.env.NODE_ENV){var $=I();p.exports=function(){if(k)return j;k=1;var e=I(),r=D(),t=O(),a=z(),n=function(){if(M)return C;M=1;var e=function(){};if("production"!==process.env.NODE_ENV){var r=O(),t={},a=z();e=function(e){var r="Warning: "+e;try{throw new Error(r)}catch(e){}}}function n(n,o,s,i,l){if("production"!==process.env.NODE_ENV)for(var c in n)if(a(n,c)){var d;try{if("function"!=typeof n[c]){var u=Error((i||"React class")+": "+s+" type `"+c+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof n[c]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw u.name="Invariant Violation",u}d=n[c](o,c,i,s,null,r)}catch(e){d=e}if(!d||d instanceof Error||e((i||"React class")+": type specification of "+s+" `"+c+"` is invalid; the type checker function must return `null` or an `Error` but returned a "+typeof d+". You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument)."),d instanceof Error&&!(d.message in t)){t[d.message]=!0;var m=l?l():"";e("Failed "+s+" type: "+d.message+(null!=m?m:""))}}}return n.resetWarningCache=function(){"production"!==process.env.NODE_ENV&&(t={})},C=n}(),o=function(){};function s(){return null}return"production"!==process.env.NODE_ENV&&(o=function(e){var r="Warning: "+e;try{throw new Error(r)}catch(e){}}),j=function(i,l){var c="function"==typeof Symbol&&Symbol.iterator,d="<<anonymous>>",u={array:h("array"),bigint:h("bigint"),bool:h("boolean"),func:h("function"),number:h("number"),object:h("object"),string:h("string"),symbol:h("symbol"),any:p(s),arrayOf:function(e){return p((function(r,a,n,o,s){if("function"!=typeof e)return new g("Property `"+s+"` of component `"+n+"` has invalid PropType notation inside arrayOf.");var i=r[a];if(!Array.isArray(i))return new g("Invalid "+o+" `"+s+"` of type `"+y(i)+"` supplied to `"+n+"`, expected an array.");for(var l=0;l<i.length;l++){var c=e(i,l,n,o,s+"["+l+"]",t);if(c instanceof Error)return c}return null}))},element:p((function(e,r,t,a,n){var o=e[r];return i(o)?null:new g("Invalid "+a+" `"+n+"` of type `"+y(o)+"` supplied to `"+t+"`, expected a single ReactElement.")})),elementType:p((function(r,t,a,n,o){var s=r[t];return e.isValidElementType(s)?null:new g("Invalid "+n+" `"+o+"` of type `"+y(s)+"` supplied to `"+a+"`, expected a single ReactElement type.")})),instanceOf:function(e){return p((function(r,t,a,n,o){if(!(r[t]instanceof e)){var s=e.name||d;return new g("Invalid "+n+" `"+o+"` of type `"+((i=r[t]).constructor&&i.constructor.name?i.constructor.name:d)+"` supplied to `"+a+"`, expected instance of `"+s+"`.")}var i;return null}))},node:p((function(e,r,t,a,n){return b(e[r])?null:new g("Invalid "+a+" `"+n+"` supplied to `"+t+"`, expected a ReactNode.")})),objectOf:function(e){return p((function(r,n,o,s,i){if("function"!=typeof e)return new g("Property `"+i+"` of component `"+o+"` has invalid PropType notation inside objectOf.");var l=r[n],c=y(l);if("object"!==c)return new g("Invalid "+s+" `"+i+"` of type `"+c+"` supplied to `"+o+"`, expected an object.");for(var d in l)if(a(l,d)){var u=e(l,d,o,s,i+"."+d,t);if(u instanceof Error)return u}return null}))},oneOf:function(e){return Array.isArray(e)?p((function(r,t,a,n,o){for(var s=r[t],i=0;i<e.length;i++)if(m(s,e[i]))return null;var l=JSON.stringify(e,(function(e,r){return"symbol"===x(r)?String(r):r}));return new g("Invalid "+n+" `"+o+"` of value `"+String(s)+"` supplied to `"+a+"`, expected one of "+l+".")})):("production"!==process.env.NODE_ENV&&o(arguments.length>1?"Invalid arguments supplied to oneOf, expected an array, got "+arguments.length+" arguments. A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z]).":"Invalid argument supplied to oneOf, expected an array."),s)},oneOfType:function(e){if(!Array.isArray(e))return"production"!==process.env.NODE_ENV&&o("Invalid argument supplied to oneOfType, expected an instance of array."),s;for(var r=0;r<e.length;r++){var n=e[r];if("function"!=typeof n)return o("Invalid argument supplied to oneOfType. Expected an array of check functions, but received "+v(n)+" at index "+r+"."),s}return p((function(r,n,o,s,i){for(var l=[],c=0;c<e.length;c++){var d=(0,e[c])(r,n,o,s,i,t);if(null==d)return null;d.data&&a(d.data,"expectedType")&&l.push(d.data.expectedType)}return new g("Invalid "+s+" `"+i+"` supplied to `"+o+"`"+(l.length>0?", expected one of type ["+l.join(", ")+"]":"")+".")}))},shape:function(e){return p((function(r,a,n,o,s){var i=r[a],l=y(i);if("object"!==l)return new g("Invalid "+o+" `"+s+"` of type `"+l+"` supplied to `"+n+"`, expected `object`.");for(var c in e){var d=e[c];if("function"!=typeof d)return f(n,o,s,c,x(d));var u=d(i,c,n,o,s+"."+c,t);if(u)return u}return null}))},exact:function(e){return p((function(n,o,s,i,l){var c=n[o],d=y(c);if("object"!==d)return new g("Invalid "+i+" `"+l+"` of type `"+d+"` supplied to `"+s+"`, expected `object`.");var u=r({},n[o],e);for(var m in u){var p=e[m];if(a(e,m)&&"function"!=typeof p)return f(s,i,l,m,x(p));if(!p)return new g("Invalid "+i+" `"+l+"` key `"+m+"` supplied to `"+s+"`.\nBad object: "+JSON.stringify(n[o],null,"  ")+"\nValid keys: "+JSON.stringify(Object.keys(e),null,"  "));var h=p(c,m,s,i,l+"."+m,t);if(h)return h}return null}))}};function m(e,r){return e===r?0!==e||1/e==1/r:e!=e&&r!=r}function g(e,r){this.message=e,this.data=r&&"object"==typeof r?r:{},this.stack=""}function p(e){if("production"!==process.env.NODE_ENV)var r={},a=0;function n(n,s,i,c,u,m,p){if(c=c||d,m=m||i,p!==t){if(l){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}if("production"!==process.env.NODE_ENV&&"undefined"!=typeof console){var f=c+":"+i;!r[f]&&a<3&&(o("You are manually calling a React.PropTypes validation function for the `"+m+"` prop on `"+c+"`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details."),r[f]=!0,a++)}}return null==s[i]?n?null===s[i]?new g("The "+u+" `"+m+"` is marked as required in `"+c+"`, but its value is `null`."):new g("The "+u+" `"+m+"` is marked as required in `"+c+"`, but its value is `undefined`."):null:e(s,i,c,u,m)}var s=n.bind(null,!1);return s.isRequired=n.bind(null,!0),s}function h(e){return p((function(r,t,a,n,o,s){var i=r[t];return y(i)!==e?new g("Invalid "+n+" `"+o+"` of type `"+x(i)+"` supplied to `"+a+"`, expected `"+e+"`.",{expectedType:e}):null}))}function f(e,r,t,a,n){return new g((e||"React class")+": "+r+" type `"+t+"."+a+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+n+"`.")}function b(e){switch(typeof e){case"number":case"string":case"undefined":return!0;case"boolean":return!e;case"object":if(Array.isArray(e))return e.every(b);if(null===e||i(e))return!0;var r=function(e){var r=e&&(c&&e[c]||e["@@iterator"]);if("function"==typeof r)return r}(e);if(!r)return!1;var t,a=r.call(e);if(r!==e.entries){for(;!(t=a.next()).done;)if(!b(t.value))return!1}else for(;!(t=a.next()).done;){var n=t.value;if(n&&!b(n[1]))return!1}return!0;default:return!1}}function y(e){var r=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":function(e,r){return"symbol"===e||!!r&&("Symbol"===r["@@toStringTag"]||"function"==typeof Symbol&&r instanceof Symbol)}(r,e)?"symbol":r}function x(e){if(null==e)return""+e;var r=y(e);if("object"===r){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return r}function v(e){var r=x(e);switch(r){case"array":case"object":return"an "+r;case"boolean":case"date":case"regexp":return"a "+r;default:return r}}return g.prototype=Error.prototype,u.checkPropTypes=n,u.resetWarningCache=n.resetWarningCache,u.PropTypes=u,u},j}()($.isElement,!0)}else p.exports=function(){if(T)return S;T=1;var e=O();function r(){}function t(){}return t.resetWarningCache=r,S=function(){function a(r,t,a,n,o,s){if(s!==e){var i=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw i.name="Invariant Violation",i}}function n(){return a}a.isRequired=a;var o={array:a,bigint:a,bool:a,func:a,number:a,object:a,string:a,symbol:a,any:a,arrayOf:n,element:a,elementType:a,instanceOf:n,node:a,objectOf:n,oneOf:n,oneOfType:n,shape:n,exact:n,checkPropTypes:t,resetWarningCache:r};return o.PropTypes=o,o}}()();var R=m(p.exports);const B=({type:e="info",message:r,title:t,dismissible:a=!1,onDismiss:n,icon:l=!0,size:c="medium",variant:d="filled",className:u="",children:m,...g})=>{const p={error:{filled:"bg-red-100 border border-red-400 text-red-700",outlined:"border-2 border-red-400 text-red-700 bg-transparent",solid:"bg-red-500 text-white border border-red-500",icon:"exclamation-triangle"},success:{filled:"bg-green-100 border border-green-400 text-green-700",outlined:"border-2 border-green-400 text-green-700 bg-transparent",solid:"bg-green-500 text-white border border-green-500",icon:"check"},warning:{filled:"bg-yellow-100 border border-yellow-400 text-yellow-700",outlined:"border-2 border-yellow-400 text-yellow-700 bg-transparent",solid:"bg-yellow-500 text-white border border-yellow-500",icon:"exclamation-triangle"},info:{filled:"bg-blue-100 border border-blue-400 text-blue-700",outlined:"border-2 border-blue-400 text-blue-700 bg-transparent",solid:"bg-blue-500 text-white border border-blue-500",icon:"info-circle"}};if(!r&&!m)return null;const h=p[e]?.[d]||p.info.filled;return s("div",{className:`rounded-lg font-semibold flex items-start gap-3 relative transition-all duration-200 ${h} ${{small:"px-3 py-2 text-sm",medium:"px-4 py-3 text-base",large:"px-6 py-4 text-lg"}[c]} ${u}`,role:"alert",...g,children:[l&&i("span",{className:"flex-shrink-0 mt-0.5",children:i(o,{icon:p[e].icon,className:"w-4 h-4"})}),s("div",{className:"flex-1",children:[t&&i("div",{className:"font-bold mb-1",children:t}),i("div",{children:r||m})]}),a&&i("button",{onClick:n,className:"flex-shrink-0 ml-2 hover:opacity-70 transition-opacity p-1 rounded","aria-label":"Cerrar alerta",children:i(o,{icon:"times",className:"w-4 h-4"})})]})};B.propTypes={type:R.oneOf(["error","success","warning","info"]),message:R.string,title:R.string,dismissible:R.bool,onDismiss:R.func,icon:R.bool,size:R.oneOf(["small","medium","large"]),variant:R.oneOf(["filled","outlined","solid"]),className:R.string,children:R.node};const P=({children:e,variant:r="default",size:t="medium",className:a="",...n})=>i("span",{className:`inline-flex items-center font-medium rounded-full ${{default:"bg-gray-100 text-gray-800",primary:"bg-blue-100 text-blue-800",success:"bg-green-100 text-green-800",warning:"bg-yellow-100 text-yellow-800",danger:"bg-red-100 text-red-800",info:"bg-indigo-100 text-indigo-800"}[r]} ${{small:"px-2 py-0.5 text-xs",medium:"px-2.5 py-0.5 text-sm",large:"px-3 py-1 text-base"}[t]} ${a}`,...n,children:e}),_=({children:e,className:r=""})=>i("div",{className:`bg-white overflow-hidden shadow-sm sm:rounded-lg ${r}`,children:e}),U=({type:e="button",variant:r="primary",size:t="medium",gameVariant:a=null,children:n,onClick:o,disabled:s=!1,className:l="",...c})=>{const d={small:"px-3 py-1.5 text-xs",medium:"px-4 py-2 text-sm",large:"px-6 py-3 text-base",game:"py-[15px] w-full",gameAction:"px-4 py-3 w-full"};return i("button",{type:e,onClick:o,disabled:s,className:`font-medium rounded-lg transition-all duration-200 ease-in-out focus:outline-none focus:ring-4 disabled:opacity-50 disabled:cursor-not-allowed ${a?{reveal:"bg-white rounded-[10px] text-[#195b81] font-extrabold uppercase tracking-wide transition-all duration-300 ease-in hover:opacity-80",correct:"bg-green-600 text-white rounded hover:bg-green-700 transition duration-200 boton-success-m rounded-[10px] button-overlay",incorrect:"bg-red-600 text-white rounded hover:bg-red-700 transition duration-200 button-incorrect rounded-[10px] button-overlay",restart:"bg-green-600 text-white rounded-lg hover:bg-green-700 boton-success-m font-medium transition-all duration-200 transform hover:scale-105",exit:"bg-blue-600 text-white rounded-lg hover:bg-blue-700 boton-success-m font-medium transition-all duration-200 transform hover:scale-105"}[a]:{primary:"bg-gradient-to-r from-indigo-600 to-indigo-700 hover:from-indigo-700 hover:to-indigo-800 text-white focus:ring-indigo-300 transform hover:scale-105 shadow-md hover:shadow-lg",secondary:"bg-gradient-to-r from-gray-600 to-gray-700 hover:from-gray-700 hover:to-gray-800 text-white focus:ring-gray-300 transform hover:scale-105 shadow-md hover:shadow-lg",danger:"bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 text-white focus:ring-red-300 transform hover:scale-105 shadow-md hover:shadow-lg",success:"bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 text-white focus:ring-green-300 transform hover:scale-105 shadow-md hover:shadow-lg"}[r]} ${a?d.game:d[t]} ${l}`,...c,children:n})},Q=({children:e,variant:r="default",size:t="medium",selected:a=!1,disabled:n=!1,hoverable:o=!0,onClick:s,className:l="",...c})=>i("div",{className:`bg-white border rounded-lg transition-all duration-200 overflow-hidden ${a?"bg-blue-50 border-blue-500 border-2 shadow-blue-100":{default:"border-gray-200 shadow-sm",outlined:"border-gray-300 border-2 shadow-none",elevated:"border-none shadow-lg",flat:"bg-gray-50 border-none shadow-none"}[r]} ${{small:"p-3",medium:"p-4",large:"p-6"}[t]} ${o&&s&&!n?"hover:shadow-md hover:-translate-y-0.5 cursor-pointer":""} ${n?"opacity-60 cursor-not-allowed pointer-events-none":""} ${l}`,onClick:n?void 0:s,...c,children:e}),Y=({id:e,checked:r,onChange:t,label:a,value:n,className:o=""})=>s("label",{className:`inline-flex items-center ${o}`,children:[i("input",{id:e,type:"checkbox",checked:r,onChange:t,value:n,className:"focus:border-tema1 focus:ring-tema1 rounded border-gray-300 text-indigo-600 checkbox-form"}),i("span",{className:"ml-2",children:a})]}),G=({children:e,className:r=""})=>i("div",{className:`max-w-7xl mx-auto sm:px-6 lg:px-8 ${r}`,children:e}),W=({trigger:a,children:n,align:o="right",width:l="48"})=>{const[c,d]=e(!1),u=r(null);t((()=>{const e=e=>{u.current&&!u.current.contains(e.target)&&d(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)}),[]);return s("div",{className:"relative",ref:u,children:[i("div",{onClick:()=>d(!c),children:a}),c&&i("div",{className:`absolute z-50 mt-2 ${{48:"w-48"}[l]} rounded-md shadow-lg ${{left:"origin-top-left left-0",right:"origin-top-right right-0"}[o]}`,children:i("div",{className:"rounded-md ring-1 ring-black ring-opacity-5 py-1 bg-white",children:n})})]})},F=({onClick:e,size:r="medium",className:t="",...a})=>i("button",{type:"button",onClick:e,className:`text-gray-400 hover:text-gray-600 focus:outline-none transition-colors ${t}`,...a,children:i("svg",{className:{small:"w-4 h-4",medium:"w-6 h-6",large:"w-8 h-8"}[r],fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),J=({id:e,onChange:r,accept:t="image/*",className:a="",error:n,...o})=>s("div",{className:"w-full",children:[i("input",{id:e,type:"file",onChange:r,accept:t,className:`w-full text-sm text-grey-500 file:mr-5 file:py-2 file:px-6 file:rounded-full file:border-0 file:text-sm file:font-medium file:bg-blue-80 file:sky-950 hover:file:cursor-pointer ${a}`,...o}),n&&i("span",{className:"text-red-500 text-sm",children:n})]}),V=({className:e=""})=>{const r=(new Date).getFullYear(),t=process.env.REACT_APP_NAME||"MBS";return s("footer",{className:`bg-footer text-white z-10 footer-mbs flex flex-col md:flex-row justify-between px-[20px] md:px-[50px] py-[35px] ${e}`,children:[s("div",{className:"text-sm text-center mb-3 md:mb-0",children:["© ",r," ",t,". Todos los derechos reservados."]}),s("div",{className:"text-sm flex flex-col md:flex-row gap-4 underline text-center",children:[i("a",{href:"https://medbystudents.com/libro-de-reclamaciones/",target:"_blank",rel:"noopener noreferrer",className:"hover:text-gray-300 transition-colors",children:"Libro de reclamaciones"}),i("a",{href:"https://medbystudents.com/politicas-de-privacidad/",target:"_blank",rel:"noopener noreferrer",className:"hover:text-gray-300 transition-colors",children:"Políticas de privacidad"})]})]})},Z=({show:e,message:r="Cargando...",subMessage:t="Por favor espera"})=>e?i("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-[9999] flex items-center justify-center backdrop-blur-sm",children:s("div",{className:"bg-white rounded-lg p-8 text-center shadow-2xl max-w-sm mx-4",children:[s("div",{className:"relative",children:[i("div",{className:"animate-spin rounded-full h-16 w-16 border-b-4 border-tema1 mx-auto mb-6"}),i("div",{className:"absolute inset-0 animate-spin rounded-full h-16 w-16 border-r-4 border-tema2 mx-auto",style:{animationDuration:"3s"}})]}),i("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:r}),i("p",{className:"text-sm text-gray-600 mb-4",children:t}),i("div",{className:"w-full bg-gray-200 rounded-full h-2",children:i("div",{className:"bg-tema1 h-2 rounded-full animate-pulse",style:{width:"70%"}})})]})}):null,X=({type:e="default",gameType:r=null,size:t="medium",className:a="",...n})=>{const o={small:"w-4 h-4",medium:"w-6 h-6",large:"w-8 h-8",game:"w-8 h-8 mx-auto mb-4"};return r?i("img",{className:`icon-card__answer ${o.game} ${a}`,src:{question:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAyNC4yLjAsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0ic3ZnMiIgeG1sbnM6c3ZnPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyINCgkgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiIHZpZXdCb3g9IjAgMCAxMjYuMiAxMjYuMiINCgkgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMTI2LjIgMTI2LjI7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+DQoJLnN0MHtmaWxsOiNGRkZGRkY7fQ0KPC9zdHlsZT4NCjxnPg0KCTxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik02Ni44LDEyNi4yYy0yLjUsMC00LjksMC03LjQsMGMtMC4zLTAuMS0wLjYtMC4yLTEtMC4yYy04LjgtMC42LTE3LjItMi45LTI1LTcuMkMxNS43LDEwOSw0LjgsOTQuMSwxLDc0LjENCgkJYy0wLjUtMi40LTAuNy00LjktMS03LjNjMC0yLjUsMC00LjksMC03LjRjMC4xLTAuNCwwLjItMC43LDAuMi0xLjFjMC42LTguOCwyLjktMTcuMiw3LjItMjQuOUMxOSwxMi44LDM2LjgsMS42LDYwLjQsMC4xDQoJCUM3MC43LTAuNSw4MC41LDEuNCw4OS43LDZjMjIuNSwxMS4yLDM0LjcsMjkuNCwzNi40LDU0LjVjMC44LDExLjUtMS44LDIyLjQtNy40LDMyLjVjLTkuOCwxNy43LTI0LjgsMjguNS00NC43LDMyLjMNCgkJQzcxLjYsMTI1LjcsNjkuMiwxMjUuOSw2Ni44LDEyNi4yeiBNMTE2LjMsNjMuMkMxMTYuNCwzMy44LDkyLjYsMTAsNjMuMiw5LjlDMzMuOCw5LjgsOS45LDMzLjYsOS45LDYzLjENCgkJQzkuOCw5Mi40LDMzLjYsMTE2LjIsNjMsMTE2LjNDOTIuMywxMTYuNCwxMTYuMyw5Mi42LDExNi4zLDYzLjJ6Ii8+DQoJPHBhdGggY2xhc3M9InN0MCIgZD0iTTYzLjEsMzEuN2M5LjUsMCwxNy45LDcsMTkuNSwxNi4zYzEuNiw5LjctMy45LDE5LTEzLjEsMjJjLTEuMSwwLjQtMS41LDAuOC0xLjQsMmMwLjEsMi4xLDAsNC4yLDAsNi4zDQoJCWMwLDMtMi4xLDUuMi01LDUuMWMtMi44LDAtNC45LTIuMS00LjktNS4xYzAtNCwwLTgsMC0xMS45YzAtMi44LDEuNy00LjgsNC41LTVjMy4zLTAuMyw2LjEtMS4yLDguMS0zLjljMi40LTMuMiwyLjgtNi43LDEtMTAuMw0KCQljLTEuOC0zLjctNS01LjYtOS4yLTUuNWMtNSwwLjItOC43LDMuNy05LjQsOC43Yy0wLjEsMC40LTAuMSwwLjktMC4xLDEuM2MtMC4zLDIuOC0yLjQsNC43LTUuMSw0LjZjLTIuNy0wLjEtNC44LTIuMi00LjctNQ0KCQljMC4yLTcsMy4yLTEyLjUsOS4xLTE2LjRDNTUuNywzMi43LDU5LjIsMzEuNyw2My4xLDMxLjd6Ii8+DQoJPHBhdGggY2xhc3M9InN0MCIgZD0iTTYzLjMsODcuMmMzLjQsMC4xLDYuMSwzLDYsNi40Yy0wLjEsMy40LTMsNi02LjMsNS45Yy0zLjQtMC4xLTYuMS0zLTYtNi40QzU3LjEsODkuNyw1OS45LDg3LjEsNjMuMyw4Ny4yeiIvPg0KPC9nPg0KPC9zdmc+DQo=",answer:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAyNC4yLjAsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0ic3ZnMiIgeG1sbnM6c3ZnPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyINCgkgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiIHZpZXdCb3g9IjAgMCAxMjYuMiAxMjYuMiINCgkgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMTI2LjIgMTI2LjI7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+DQoJLnN0MHtmaWxsOiMxOTVCODE7fQ0KPC9zdHlsZT4NCjxnPg0KCTxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik04NC4xLDQxLjhjMy45LDAuNyw4LDEsMTEuNywyLjNjMTYuOCw1LjUsMjYuNywxNy4yLDI5LjQsMzQuN2MxLjEsNy41LDAsMTQuNy0zLDIxLjcNCgkJYy0wLjIsMC41LTAuMywxLjItMC4yLDEuOGMxLjEsNi4zLDIuMywxMi42LDMuNCwxOC45YzAuNSwzLTEuMyw0LjktNC4zLDQuNGMtNS41LTAuOS0xMC45LTEuOS0xNi4zLTNjLTIuMi0wLjQtNC4yLTAuNC02LjQsMC41DQoJCWMtMjQsOC45LTUwLjItNS42LTU1LjQtMzAuN2MtMC42LTIuNy0wLjctNS40LTEtOC4xYy0yLjctMC4zLTUuNS0wLjUtOC4yLTEuMWMtMi42LTAuNi01LjItMS42LTcuNy0yLjNjLTAuOC0wLjItMS43LTAuNC0yLjUtMC4zDQoJCWMtNi4xLDEuMS0xMi4yLDIuMi0xOC40LDMuNGMtMy4yLDAuNi01LjItMS4zLTQuNi00LjVDMS44LDczLDMsNjYuOCw0LjEsNjAuNWMwLjEtMC42LDAtMS4zLTAuMi0xLjhDLTQuNiwzOC40LDMuNywxNS4zLDIzLjIsNS4yDQoJCUM0Ny4zLTcuMyw3Nyw2LjYsODIuOSwzMy4xQzgzLjUsMzYuMSw4My43LDM5LjEsODQuMSw0MS44eiIvPg0KPC9nPg0KPC9zdmc+DQo="}[r],alt:"question"===r?"Pregunta":"Respuesta",...n}):i("div",{className:`${o[t]} ${a}`,...n})},q=({icon:e,variant:r="default",size:t="medium",disabled:a=!1,onClick:n,title:o,className:s="",...l})=>i("button",{type:"button",className:`inline-flex items-center justify-center rounded-full transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 ${{default:"text-gray-500 hover:text-gray-700 hover:bg-gray-100 focus:ring-gray-500",primary:"text-blue-600 hover:text-blue-700 hover:bg-blue-50 focus:ring-blue-500",danger:"text-red-600 hover:text-red-700 hover:bg-red-50 focus:ring-red-500",success:"text-green-600 hover:text-green-700 hover:bg-green-50 focus:ring-green-500"}[r]} ${{small:"w-6 h-6 text-sm",medium:"w-8 h-8 text-base",large:"w-10 h-10 text-lg"}[t]} ${a?"opacity-50 cursor-not-allowed pointer-events-none":"cursor-pointer"} ${s}`,onClick:a?void 0:n,disabled:a,title:o,...l,children:e}),H=({src:e,alt:r,variant:t="default",gameType:a=null,onClick:n,className:o="",...s})=>{if(!e)return null;const l=n||a;return i("img",{src:e,alt:r,onClick:l?()=>{n?n():a&&window.open(e,"_blank")}:void 0,className:`${a?{question:"img-answer cursor-pointer max-w-32 max-h-32 object-cover rounded",answer:"img-answer img-answer-response cursor-pointer max-w-32 max-h-32 object-cover rounded"}[a]:{default:"object-cover rounded",preview:"max-w-full h-auto rounded-lg shadow-md",thumbnail:"w-16 h-16 object-cover rounded",avatar:"w-10 h-10 object-cover rounded-full"}[t]} ${l?"cursor-pointer":""} ${o}`,...s})},K=({id:e,type:r="text",value:t,onChange:a,onBlur:n,placeholder:o,className:l="",error:c,disabled:d=!1,...u})=>s("div",{className:"w-full",children:[i("input",{id:e,type:r,value:t,onChange:a,onBlur:n,placeholder:o,disabled:d,className:`mt-1 block w-full rounded border-gray-300 focus:border-tema1 focus:ring-tema1 ${d?"bg-gray-100 cursor-not-allowed":""} ${c?"border-red-500":""} ${l}`,...u}),c&&i("span",{className:"text-red-500 text-sm",children:c})]}),ee=({htmlFor:e,children:r,className:t=""})=>i("label",{htmlFor:e,className:`block text-gray-700 ${t}`,children:r}),re=({className:e=""})=>{const r=process.env.REACT_APP_API_BASE_URL;return i("div",{className:`shrink-0 flex mr-24 pr-24 site-logo ${e}`,children:i("a",{href:r,children:i("img",{src:"/logo.svg",alt:"MBS - Med By Students",className:"block h-9"})})})},te=({percentage:e,className:r=""})=>s("div",{className:`text-center mb-6 ${r}`,children:[i("div",{className:"text-6xl mb-4",children:e>=80?"🎉":e>=60?"👍":"📚"}),i("h3",{className:"text-2xl font-bold text-gray-800 mb-4",children:e>=80?"¡Excelente!":e>=60?"¡Bien hecho!":"¡Sigue practicando!"}),i("p",{className:"text-gray-600",children:e>=90?"¡Increíble! Dominas perfectamente el tema.":e>=80?"¡Muy bien! Tienes un excelente conocimiento.":e>=70?"¡Buen trabajo! Vas por buen camino.":e>=60?"Bien hecho, pero puedes mejorar un poco más.":"Sigue practicando, ¡cada intento te hace mejor!"})]}),ae=({href:e,children:r,active:t=!1,className:a=""})=>{const n=c(),o=t||n.pathname===e;return i("a",{href:e,className:`inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium leading-5 transition duration-150 ease-in-out focus:outline-none ${o?"border-indigo-400 text-gray-900 focus:border-indigo-700":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 focus:text-gray-700 focus:border-gray-300"} ${a}`,children:r})},ne=({isVisible:e=!1,onClick:r,opacity:t="bg-opacity-50",className:a="",...n})=>e?i("div",{className:`fixed inset-0 bg-black ${t} transition-opacity ${a}`,onClick:r,...n}):null,oe=({value:e,onChange:r,placeholder:t="Buscar...",disabled:a=!1,onClear:n,className:o="",...l})=>{const c=a?"bg-gray-100 cursor-not-allowed opacity-60":"bg-white";return s("div",{className:"relative",children:[i("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:i("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),i("input",{type:"text",value:e,onChange:r,placeholder:t,disabled:a,className:`w-full pl-10 pr-10 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 ${c} ${o}`,...l}),e&&i("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:i("button",{type:"button",onClick:()=>{n?n():r&&r({target:{value:""}})},className:"text-gray-400 hover:text-gray-600 focus:outline-none",children:i("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})})]})},se=({children:e,active:r=!1,disabled:t=!1,onClick:a,className:n="",...o})=>i("button",{type:"button",className:"px-4 py-2 text-sm font-medium rounded-t-lg transition-colors duration-200 "+(r?"bg-white text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"),onClick:t?void 0:a,disabled:t,...o,children:e}),ie=({id:e,value:t,onChange:a,placeholder:n,rows:o=3,className:l="",error:c,disabled:d=!1,...u})=>{const m=r(null);return s("div",{className:"w-full",children:[i("textarea",{ref:m,id:e,value:t,onChange:a,placeholder:n,rows:o,className:`mt-1 block w-full rounded border-gray-300 focus:border-tema1 focus:ring-tema1 resize-vertical transition-all duration-200 ${d?"bg-gray-100 cursor-not-allowed":""} ${l}`,disabled:d,...u}),c&&i("span",{className:"text-red-500 text-sm",children:c})]})},le=({children:e,level:r="h2",className:t=""})=>i(r,{className:`font-semibold text-xl text-gray-800 leading-tight ${t}`,children:e}),ce=({id:e,value:r,checked:t=!1,onChange:a,children:n,className:o="",disabled:s=!1})=>i("button",{type:"button",id:e,value:r,onClick:()=>!s&&a(r),disabled:s,"aria-pressed":t,className:`\n                px-4 py-2 border rounded-lg font-medium transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-tema1 focus:ring-offset-2 \n                ${t?"bg-tema1 text-white border-tema1 shadow-md":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50 hover:border-gray-400"}\n                ${s?"opacity-50 cursor-not-allowed":""}\n                ${o}\n            `,children:n}),de=({selectedCount:e=0,totalCount:r=0,categorySelectedCount:t=0,categoryTotalCount:a=0,allSelected:n=!1,categoryAllSelected:o=!1,onStartGame:l,onSelectAll:c,onDeselectAll:d,onSelectCategory:u,onDeselectCategory:m,onCreateFlashcard:g,onCreateCategory:p,disabled:h=!1,className:f="",...b})=>{const y=e>0;return s("div",{className:`flex items-center justify-between gap-4 p-4 bg-white border-t border-gray-200 ${f}`,...b,children:[s("div",{className:"flex items-center gap-2",children:[s(U,n?{variant:"secondary",onClick:d,disabled:h,className:"text-sm",children:["Deseleccionar todas (",r,")"]}:{variant:"secondary",onClick:c,disabled:h||0===r,className:"text-sm",children:["Seleccionar todas (",r,")"]}),a>0&&s(U,o?{variant:"secondary",onClick:m,disabled:h,className:"text-sm",children:["Deseleccionar categoría (",a,")"]}:{variant:"secondary",onClick:u,disabled:h,className:"text-sm",children:["Seleccionar categoría (",a,")"]})]}),s("div",{className:"flex items-center gap-3",children:[i(U,{variant:"secondary",onClick:p,disabled:h,children:"+ Nueva Categoría"}),i(U,{variant:"secondary",onClick:g,disabled:h,children:"+ Nueva Flashcard"}),i("div",{className:"flex items-center gap-2",children:s(U,{variant:"primary",onClick:l,disabled:!y||h,className:"flex items-center gap-2 px-6 py-2 text-sm font-medium",children:["🎮 Empezar Juego",y&&i(P,{variant:"success",size:"small",children:e})]})})]})]})},ue=({categories:e=[],selectedCategories:r=[],onChange:t,className:a=""})=>{const n=e.filter((e=>e&&void 0!==e.id&&void 0!==e.nombre)),o=e=>{const a=r.includes(e)?r.filter((r=>r!==e)):[...r,e];t(a)};return 0===n.length?s("div",{className:`mb-4 ${a}`,children:[i(ee,{children:"Categorías (opcional)"}),i("p",{className:"text-gray-500 text-sm mt-2",children:"No tienes categorías creadas. Crea una categoría primero."})]}):s("div",{className:`mb-4 ${a}`,children:[i(ee,{children:"Categorías (opcional)"}),i("div",{className:"mt-2 flex flex-wrap gap-2",role:"group","aria-label":"Seleccionar categorías",children:n.map((e=>i(ce,{id:`category-${e.id}`,value:e.id,checked:r.includes(e.id),onChange:o,className:"text-sm",children:e.nombre},e.id)))}),r.length>0&&s("div",{className:"mt-2 text-sm text-gray-600",children:["Seleccionadas: ",r.length," categoría",1!==r.length?"s":""]})]})},me=({children:e,className:r=""})=>i(_,{className:`p-6 ${r}`,children:e}),ge=({id:e,label:r,onChange:t,error:a,accept:n="image/*",className:o=""})=>s("div",{className:`mb-4 ${o}`,children:[i(ee,{htmlFor:e,children:r}),i(J,{id:e,onChange:t,accept:n,error:a})]}),pe=({children:e,showAnswer:r,slideDirection:t,className:a=""})=>i("div",{className:"pb-10 game-space",children:i("div",{className:`relative perspective-1000 w-full transition-all duration-400 ${"left"===t?"slide-left":"right"===t?"slide-right":""} ${a}`,children:i("div",{className:"card-inner w-full transition-transform duration-500 transform-style-3d "+(r?"rotate-y-180":""),children:e})})}),he=({flashcard:e,selected:r=!1,onSelect:t,onEdit:a,onDelete:n,canEdit:o=!1,canDelete:l=!1,className:c="",...d})=>s(Q,{selected:r,onClick:t,hoverable:!0,className:`relative cursor-pointer flex-shrink-0 w-64 h-48 border rounded-lg shadow-md transition-all duration-200 hover:shadow-lg overflow-y-hidden hover:overflow-y-auto ${r?"bg-blue-50 border-blue-400 ring-2 ring-blue-200":"bg-white border-gray-200"} ${c}`,...d,children:[i("div",{className:"pt-8",children:i("h2",{className:"font-bold text-lg",children:e.pregunta})}),(o||l)&&s("div",{className:"flex justify-end space-x-1 absolute right-2 top-2 z-10",children:[o&&s("button",{type:"button",onClick:r=>{r.stopPropagation(),a?.(e)},className:"px-2 py-1 bg-[#5b8080] text-white rounded hover:bg-[#4a6f6f] text-xs flex items-center gap-1",title:"Editar",children:[i("img",{className:"w-[17px]",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAMAAADXqc3KAAAAAXNSR0IB2cksfwAAAAlwSFlzAAAAnQAAAJ0Bj3LnbgAAAKVQTFRFAAAA////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////uP3jVQAAADd0Uk5TAA0zEQWU/P+rrf6WTIT6nmsSeE0y+c8TmAyubT700BRmg2xF9nn4ofuRSESHC8bECtQwxYZHLXliBKEAAADPSURBVHicbc9fC8FQGMfx58dwsSQp5g4jJSQX3v9bkOQKnRDbhZBo7Z9zhthz9lxs6/M9Pe2AtAEQyidnQzrBi3kwCkjmCs2LF6JyWALzyDzLd+1eBjtvAg6R9TD/g1G/VNV+0XIbW6TOWxuycascYj8AcyI7L3J+8LuH2nNQHy1Xnv9dkPs3aP4Jur9Dhichy1XIdBX6u+T/qXP6cxmaFax0l2Gw7i75niQMHWuhuwxjzCd+JJgTRsKOtl47XqedMF2WesD+SGxAs+eCo5oXGpptV/4P7iMAAAAASUVORK5CYII=",alt:"Boton Editar"}),"Editar"]}),l&&s("button",{type:"button",onClick:r=>{r.stopPropagation(),n?.(e)},className:"px-2 py-1 bg-red-500 text-white rounded hover:bg-red-600 text-xs flex items-center gap-1",title:"Eliminar",children:[i("img",{className:"w-[17px]",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAMAAADXqc3KAAAAAXNSR0IB2cksfwAAAAlwSFlzAAAOxAAADsQBlSsOGwAAAMxQTFRFAAAA////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////OpLhCAAAAER0Uk5TAB6guwXf7sLeSv9QZd3A6/Kp1teomuXmmYv09Yp9BG0SvxNsXiEiXU8wMU5AP2AgDXR1C/aOy8puUgbIaGnH0blHk7WaBofeAAABGklEQVR4nHXRWUsDMRAA4BldkLbrg9SDUtpla+tRpIhHPZ70l+uTWLRIK15V67rWUrT64tZ9iYybjLskigMhk3xDQjII/wQmCcqUiH6BFYEAi8aEMCGFOIqmDFEYg62y9JelQIx/qrpAgo0fxr2TFEgAmMJ3A7I45Dtm8MWAORww5LBvQB57DIW3aR/AhkANKA6zTwzO66wH4MKDGlAa5O4Zyv38rQYLvcINw5LvXGlQ9dwLhpXu/LkGvJTAJQnwARIqz+W2BrW7SothtbN4psHa9XLz53c38ER7xyadxt9ex4b28C1oxLDdVs3g2GnVjmPYRc/1fbVddML0kUg6WHqcqGbCJqynRpd1v6u3dh/xMJr2iA7Mnv+Jb5RQaBkMZdeJAAAAAElFTkSuQmCC",alt:"Boton Eliminar"}),"Eliminar"]})]}),!o&&!l&&s("div",{className:"flex justify-end absolute right-3 top-3 gap-[10px] cursor-not-allowed",children:[i("div",{className:"bg-black/50 absolute w-full h-full rounded-[5px]"}),s("button",{type:"button",className:"px-2 py-1 bg-[#5b8080] text-white rounded hover:bg-white hover:text-[#5b8080] text-xs flex items-center gap-1 cursor-not-allowed",title:"Editar",disabled:!0,children:[i("img",{className:"w-[17px]",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAMAAADXqc3KAAAAAXNSR0IB2cksfwAAAAlwSFlzAAAAnQAAAJ0Bj3LnbgAAAKVQTFRFAAAA////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////uP3jVQAAADd0Uk5TAA0zEQWU/P+rrf6WTIT6nmsSeE0y+c8TmAyubT700BRmg2xF9nn4ofuRSESHC8bECtQwxYZHLXliBKEAAADPSURBVHicbc9fC8FQGMfx58dwsSQp5g4jJSQX3v9bkOQKnRDbhZBo7Z9zhthz9lxs6/M9Pe2AtAEQyidnQzrBi3kwCkjmCs2LF6JyWALzyDzLd+1eBjtvAg6R9TD/g1G/VNV+0XIbW6TOWxuycascYj8AcyI7L3J+8LuH2nNQHy1Xnv9dkPs3aP4Jur9Dhichy1XIdBX6u+T/qXP6cxmaFax0l2Gw7i75niQMHWuhuwxjzCd+JJgTRsKOtl47XqedMF2WesD+SGxAs+eCo5oXGpptV/4P7iMAAAAASUVORK5CYII=",alt:"Boton Editar"}),"Editar"]}),s("button",{type:"button",className:"px-2 py-1 bg-red-500 text-white rounded hover:bg-red-600 text-xs flex items-center gap-1 cursor-not-allowed",title:"Eliminar",disabled:!0,children:[i("img",{className:"w-[17px]",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAMAAADXqc3KAAAAAXNSR0IB2cksfwAAAAlwSFlzAAAOxAAADsQBlSsOGwAAAMxQTFRFAAAA////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////OpLhCAAAAER0Uk5TAB6guwXf7sLeSv9QZd3A6/Kp1teomuXmmYv09Yp9BG0SvxNsXiEiXU8wMU5AP2AgDXR1C/aOy8puUgbIaGnH0blHk7WaBofeAAABGklEQVR4nHXRWUsDMRAA4BldkLbrg9SDUtpla+tRpIhHPZ70l+uTWLRIK15V67rWUrT64tZ9iYybjLskigMhk3xDQjII/wQmCcqUiH6BFYEAi8aEMCGFOIqmDFEYg62y9JelQIx/qrpAgo0fxr2TFEgAmMJ3A7I45Dtm8MWAORww5LBvQB57DIW3aR/AhkANKA6zTwzO66wH4MKDGlAa5O4Zyv38rQYLvcINw5LvXGlQ9dwLhpXu/LkGvJTAJQnwARIqz+W2BrW7SothtbN4psHa9XLz53c38ER7xyadxt9ex4b28C1oxLDdVs3g2GnVjmPYRc/1fbVddML0kUg6WHqcqGbCJqynRpd1v6u3dh/xMJr2iA7Mnv+Jb5RQaBkMZdeJAAAAAElFTkSuQmCC",alt:"Boton Eliminar"}),"Eliminar"]})]})]}),fe=({flashcards:e=[],selectedIds:t=[],onSelectFlashcard:a,onEditFlashcard:n,onDeleteFlashcard:o,canEdit:l=!1,canDelete:c=!1,className:d="",...u})=>{const m=r(null),g=e=>{if(m.current){const r=300,t="left"===e?m.current.scrollLeft-r:m.current.scrollLeft+r;m.current.scrollTo({left:t,behavior:"smooth"})}};return 0===e.length?i("div",{className:"flex items-center justify-center py-12 text-gray-500",children:s("div",{className:"text-center",children:[i("div",{className:"text-4xl mb-2",children:"📚"}),i("div",{children:"No hay flashcards disponibles"})]})}):s("div",{className:`relative ${d}`,...u,children:[i(q,{icon:i("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),onClick:()=>g("left"),className:"absolute left-0 top-1/2 -translate-y-1/2 z-10 bg-white border border-gray-300 shadow-md hover:bg-gray-50",size:"large"}),i("div",{ref:m,className:"flex overflow-x-auto gap-6 px-12 py-4 scrollbar-hide h-48",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:e.map((e=>i(he,{flashcard:e,selected:t.includes(e.id),onSelect:()=>a(e.id),onEdit:n,onDelete:o,canEdit:l,canDelete:c,className:"flex-shrink-0"},e.id)))}),i(q,{icon:i("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),onClick:()=>g("right"),className:"absolute right-0 top-1/2 -translate-y-1/2 z-10 bg-white border border-gray-300 shadow-md hover:bg-gray-50",size:"large"}),i("style",{jsx:"true",children:"\n                .scrollbar-hide::-webkit-scrollbar {\n                    display: none;\n                }\n            "})]})},be=({id:e,label:r,type:t="text",value:a,onChange:n,placeholder:o,error:l,required:c=!1,className:d=""})=>s("div",{className:`mb-4 ${d}`,children:[s(ee,{htmlFor:e,children:[r,c&&i("span",{className:"text-red-500 ml-1",children:"*"})]}),i(K,{id:e,type:t,value:a,onChange:n,placeholder:o,error:l,required:c})]}),ye=({children:e,onSubmit:r,submitText:t="Enviar",loading:a=!1})=>s("div",{className:"group-formt",children:[e,i(U,{type:"submit",variant:"primary",disabled:a,className:"ml-2",children:a?"Procesando...":t})]}),xe=({children:e,isBack:r=!1,className:t="",onTouchStart:a,onTouchEnd:n,slideDirection:o,showAnswer:s,...l})=>i("div",{className:`${r?"card-face card-back bg-white transform rotate-y-180":"card-face card-front bg-[#195b81] text-white"} p-10 rounded-[20px] ${t}`,onTouchStart:a,onTouchEnd:n,...l,children:e}),ve=({currentIndex:e,totalCards:r,correctCount:t,className:a=""})=>{const n=(e+1)/r*100;return s("div",{className:`mb-6 ${a}`,children:[s("div",{className:"flex justify-between items-center mb-2",children:[s(P,{variant:"secondary",size:"small",children:["Progreso: ",e+1," de ",r]}),s(P,{variant:"success",size:"small",children:["Correctas: ",t]})]}),i("div",{className:"w-full bg-gray-200 rounded-full h-2",children:i("div",{className:"bg-indigo-600 h-2 rounded-full transition-all duration-300",style:{width:`${n}%`}})})]})},we=({src:r,onRemove:a,className:n="",alt:o="Preview"})=>{const[l,c]=e(!1),[d,u]=e(!1);t((()=>{c(!1),u(!1)}),[r]);return r?i("div",{className:`relative inline-block ${n}`,children:s("div",{className:"relative w-32 h-32 border-2 border-gray-300 rounded-lg overflow-hidden bg-gray-50",children:[!l&&!d&&i("div",{className:"absolute inset-0 flex items-center justify-center",children:i("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-tema1"})}),d&&i("div",{className:"absolute inset-0 flex items-center justify-center text-gray-400 text-xs text-center p-2",children:"Error al cargar imagen"}),i("img",{src:r,alt:o,className:"w-full h-full object-cover transition-opacity duration-200 "+(l?"opacity-100":"opacity-0"),onLoad:()=>{c(!0),u(!1)},onError:()=>{u(!0),c(!1)}}),i("button",{type:"button",onClick:a,className:"absolute -top-2 -right-2 w-6 h-6 bg-red-500 text-white rounded-full flex items-center justify-center hover:bg-red-600 transition-colors shadow-lg",title:"Eliminar imagen",children:i("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}):null},Ne=({id:r,label:a,urlValue:n="",fileValue:o=null,onUrlChange:l,onFileChange:c,onClear:d,error:u,disabled:m=!1,className:g=""})=>{const[p,h]=e(n),[f,b]=e(""),[y,x]=e(!1),[v,w]=e(""),[N,A]=e("");t((()=>{h(n)}),[n]),t((()=>{if(o){const e=URL.createObjectURL(o);return w(e),A("file"),()=>URL.revokeObjectURL(e)}p||(w(""),A(""))}),[o,p]);const L=v&&(o||"url"===N);return s("div",{className:`mb-4 ${g}`,children:[i(ee,{htmlFor:r,children:a}),s("div",{className:"mt-2 space-y-3",children:[L&&i("div",{className:"flex justify-center",children:i(we,{src:v,onRemove:()=>{m||(w(""),A(""),h(""),b(""),d())},alt:`Preview ${a}`})}),!L&&s("div",{className:"space-y-3",children:[s("div",{children:[i(K,{id:`${r}_url`,type:"url",value:p,onChange:e=>{if(m)return;const r=e.target.value;h(r),f&&b(""),r.trim()||(l(""),w(""),A(""))},onBlur:async()=>{if(m)return;const e=p.trim();if(""===e)return b(""),w(""),A(""),void l("");if(!(e=>{try{return new URL(e),!0}catch(e){return!1}})(e))return b("La URL no es válida"),w(""),A(""),void l("");if(/\.(jpg|jpeg|png|gif|webp|bmp|svg)(\?.*)?$/i.test(e)){x(!0),b("");try{const r=new Image;r.crossOrigin="anonymous";await new Promise((t=>{r.onload=()=>t(!0),r.onerror=()=>{t(!0)},r.src=e,setTimeout((()=>t(!0)),3e3)}));b(""),w(e),A("url"),l(e)}catch(r){b(""),w(e),A("url"),l(e)}finally{x(!1)}}else{x(!0),b("");try{const r=new Image;r.crossOrigin="anonymous";await new Promise((t=>{r.onload=()=>t(!0),r.onerror=()=>t(!1),r.src=e,setTimeout((()=>t(!1)),5e3)}))?(b(""),w(e),A("url"),l(e)):(b("La URL no contiene una imagen válida o no es accesible"),w(""),A(""),l(""))}catch(e){b("Error al validar la URL"),w(""),A(""),l("")}finally{x(!1)}}},placeholder:"URL de la imagen (opcional)",className:"w-full",disabled:m,error:f}),y&&s("div",{className:"flex items-center text-xs text-blue-600 mt-1",children:[i("div",{className:"animate-spin h-3 w-3 border border-blue-600 border-t-transparent rounded-full mr-2"}),"Validando URL..."]}),f&&i("div",{className:"text-xs text-red-500 mt-1",children:f})]}),s("div",{className:"flex items-center",children:[i("div",{className:"flex-1 border-t border-gray-300"}),i("span",{className:"px-3 text-sm text-gray-500 bg-white",children:"o"}),i("div",{className:"flex-1 border-t border-gray-300"})]}),i("div",{children:i(J,{id:`${r}_file`,onChange:e=>{if(m)return;const r=e.target.files[0];c(r),r&&(h(""),b(""))},accept:"image/*",className:"w-full",disabled:m})})]}),L&&i("div",{className:"text-xs text-gray-500 text-center",children:"url"===N?"📎 Imagen desde URL":"📁 Archivo subido"})]}),u&&i("span",{className:"text-red-500 text-sm mt-1 block",children:u})]})},Ae=({menuItems:e=[]})=>i("div",{className:"hidden space-x-8 sm:-my-px sm:ml-10 sm:flex",children:e.map(((e,r)=>s(ae,{href:e.route,active:e.active,children:[e.name,e.need_premium&&i("span",{className:"ml-1 inline-block bg-yellow-400 text-xs text-white px-1 rounded",children:"PRO"})]},r)))}),Le=({title:e,icon:r})=>i("header",{className:"bg-white shadow",children:i("div",{className:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8",children:s("div",{className:"flex items-center",children:[r&&i(X,{name:r,className:"mr-2"}),i(le,{children:e})]})})}),Ce=({percentage:e,className:r="",...t})=>s("div",{className:`bg-gradient-to-r from-indigo-50 to-purple-50 rounded-lg p-6 text-center ${r}`,...t,children:[s("div",{className:"text-4xl font-bold text-indigo-600 mb-2",children:[e,"%"]}),i("div",{className:"text-lg text-indigo-700 font-medium",children:"Porcentaje de acierto"}),i("div",{className:"mt-4 w-full bg-gray-200 rounded-full h-3",children:i("div",{className:"bg-gradient-to-r from-indigo-500 to-purple-600 h-3 rounded-full transition-all duration-1000 ease-out",style:{width:`${e}%`}})})]}),Me=({value:e,label:r,variant:t="default",className:a="",...n})=>s("div",{className:`${{correct:"text-center bg-green-50 rounded-lg p-4",incorrect:"text-center bg-red-50 rounded-lg p-4",total:"text-center bg-blue-50 rounded-lg p-4",default:"text-center bg-gray-50 rounded-lg p-4"}[t]} ${a}`,...n,children:[i("div",{className:`text-2xl font-bold ${{correct:"text-green-600",incorrect:"text-red-600",total:"text-blue-600",default:"text-gray-600"}[t]}`,children:e}),i("div",{className:`text-sm ${{correct:"text-green-700",incorrect:"text-red-700",total:"text-blue-700",default:"text-gray-700"}[t]}`,children:r})]}),je=({searchValue:e,onSearchChange:r,onClearSearch:t,selectedCount:a=0,totalCount:n=0,placeholder:o="Buscar flashcards...",className:l="",...c})=>s("div",{className:`flex items-center justify-between gap-4 p-4 bg-gray-50 rounded-lg ${l}`,...c,children:[i("div",{className:"flex-1 max-w-md",children:i(oe,{value:e,onChange:r,onClear:t,placeholder:o})}),s("div",{className:"flex items-center gap-3",children:[a>0&&s(P,{variant:"primary",size:"medium",children:[a," seleccionada",1!==a?"s":""]}),s(P,{variant:"default",size:"medium",children:[n," total",1!==n?"es":""]})]})]}),ke=({tabs:e=[],activeTab:t,onTabChange:a,showCounts:n=!1,className:o="",...l})=>{const c=r(null),d=e=>{if(c.current){const r=200,t="left"===e?c.current.scrollLeft-r:c.current.scrollLeft+r;c.current.scrollTo({left:t,behavior:"smooth"})}};return s("div",{className:`border-b border-gray-200 relative ${o}`,...l,children:[i(q,{icon:i("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),onClick:()=>d("left"),className:"absolute left-0 top-1/2 -translate-y-1/2 z-10 bg-white border border-gray-300 shadow-md hover:bg-gray-50",size:"medium"}),i("div",{ref:c,className:"flex overflow-x-auto scrollbar-hide px-10",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:i("nav",{className:"-mb-px flex space-x-2 min-w-max",children:e.map((e=>i("div",{className:"flex items-center flex-shrink-0",children:s(se,{active:t===e.id,onClick:()=>a(e.id),disabled:e.disabled,className:"flex items-center gap-2",children:[n&&void 0!==e.count&&i(P,{variant:t===e.id?"primary":"default",size:"small",children:e.count}),e.name]})},e.id)))})}),i(q,{icon:i("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),onClick:()=>d("right"),className:"absolute right-0 top-1/2 -translate-y-1/2 z-10 bg-white border border-gray-300 shadow-md hover:bg-gray-50",size:"medium"}),i("style",{jsx:"true",children:"\n                .scrollbar-hide::-webkit-scrollbar {\n                    display: none;\n                }\n            "})]})},Se=({currentTeam:e,teams:r=[],onTeamSwitch:t})=>s(W,{trigger:i("span",{className:"inline-flex rounded-md",children:s("button",{type:"button",className:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-gray-500 bg-white hover:text-gray-700 focus:outline-none focus:bg-gray-50 active:bg-gray-50 transition ease-in-out duration-150",children:[e?.name||"Medicina",i("svg",{className:"ml-2 -mr-0.5 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",children:i("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 8.25l-7.5 7.5-7.5-7.5"})})]})}),align:"right",width:"48",children:[i("div",{className:"block px-4 py-2 text-xs text-gray-400",children:"Selecciona Materia"}),r.length>0?r.map((e=>i("button",{onClick:()=>t(e.id),className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:e.name},e.id))):i("div",{className:"block px-4 py-2 text-sm text-gray-700",children:"No hay materias disponibles"})]}),Te=({id:r,label:a,value:n,onChange:o,placeholder:c,error:d,required:u=!1,showAIButton:m=!1,onAIGenerate:g,aiLoading:p=!1,aiAnimating:h=!1,aiDisabled:f=!1,disabled:b=!1,className:y=""})=>{const[x,v]=e(n);t((()=>{h&&n!==x?w(x,n):v(n)}),[n,h]);const w=async(e,r)=>{const t=e.length,a=r.length;for(let e=t;e<=a;e++)await new Promise((e=>setTimeout(e,25))),v(r.substring(0,e))};return s("div",{className:`mb-4 relative ${y}`,children:[s("div",{className:"flex justify-between items-center",children:[s(ee,{htmlFor:r,children:[a,u&&i("span",{className:"text-red-500 ml-1",children:"*"})]}),m&&i(U,{type:"button",onClick:g,disabled:p||f||h,className:"relative h-10 flex transition duration-300 px-[20px] py-[3px] rounded-[8px] justify-center items-center gap-[8px] text-white font-semibold text-[12px] "+(p||f||h?"bg-gray-400 cursor-not-allowed":"bg-tema1 hover:bg-tema3"),children:s(l,p?{children:[i("div",{className:"animate-spin h-4 w-4 border-2 border-white border-t-transparent rounded-full"}),i("span",{children:"Generando..."})]}:h?{children:[i("span",{children:"✨"}),i("span",{children:"Escribiendo..."})]}:f?{children:[i("span",{children:"⏳"}),i("span",{children:"Esperando..."})]}:{children:[i("span",{children:"🤖"}),i("span",{children:"Generar por IA"})]})})]}),i(ie,{id:r,value:x,onChange:e=>{if(!h&&!b){const r=e.target.value;v(r),o(e)}},placeholder:c,error:d,required:u,rows:3,disabled:b||h,className:h?"bg-blue-50 border-blue-300":""}),h&&s("div",{className:"flex items-center mt-1 text-sm text-blue-600",children:[i("div",{className:"animate-spin -ml-1 mr-2 h-4 w-4 border-2 border-blue-600 border-t-transparent rounded-full"}),"✨ Escribiendo texto generado por IA..."]})]})},Ee=({user:e,onLogout:r})=>{const t=i("span",{className:"inline-flex rounded-md",children:s("button",{type:"button",className:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-gray-500 bg-white hover:text-gray-700 focus:outline-none focus:bg-gray-50 active:bg-gray-50 transition ease-in-out duration-150",children:[i("div",{className:"h-8 w-8 rounded-full bg-gray-300 flex items-center justify-center mr-2",children:e?.profile_photo_url?i("img",{className:"h-8 w-8 rounded-full object-cover",src:e.profile_photo_url,alt:e.name}):i("span",{className:"text-sm font-medium text-gray-700",children:e?.name?.charAt(0)?.toUpperCase()||"U"})}),e?.name||"Usuario",i("svg",{className:"ml-2 -mr-0.5 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",children:i("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 8.25l-7.5 7.5-7.5-7.5"})})]})});return s(W,{trigger:t,align:"right",width:"48",children:[i("div",{className:"px-4 py-3 border-b border-gray-200",children:s("div",{className:"flex items-center",children:[i("div",{className:"h-10 w-10 rounded-full bg-gray-300 flex items-center justify-center mr-3",children:e?.profile_photo_url?i("img",{className:"h-10 w-10 rounded-full object-cover",src:e.profile_photo_url,alt:e.name}):i("span",{className:"text-lg font-medium text-gray-700",children:e?.name?.charAt(0)?.toUpperCase()||"U"})}),s("div",{children:[i("div",{className:"text-sm font-medium text-gray-900",children:e?.name}),i("div",{className:"text-sm text-gray-500",children:e?.email})]})]})}),s("div",{className:"py-1",children:[i("a",{href:"/profile",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"Perfil"}),i("button",{onClick:r,className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"Cerrar Sesión"})]})]})},Ie=()=>{const[r,t]=e(!1),[n,o]=e(null),s=u.create({baseURL:process.env.REACT_APP_API_BASE_URL,withCredentials:!0,headers:{Accept:"application/json","Content-Type":"application/json"}});s.interceptors.request.use((e=>{const r=process.env.REACT_APP_TOKEN_STORAGE_KEY,t=localStorage.getItem(r);return t&&(e.headers.Authorization=`Bearer ${t}`),e})),s.interceptors.response.use((e=>e),(e=>{if(401===e.response?.status){const e=process.env.REACT_APP_TOKEN_STORAGE_KEY,r=process.env.REACT_APP_LOGIN_URL;localStorage.removeItem(e),window.location.href=r}return Promise.reject(e)}));const i=a((async(e,r,a=null,n={})=>{t(!0),o(null);try{let t;switch(e.toLowerCase()){case"get":t=await s.get(r,n);break;case"post":t=await s.post(r,a,n);break;case"put":t=await s.put(r,a,n);break;case"patch":t=await s.patch(r,a,n);break;case"delete":t=await s.delete(r,n);break;default:throw new Error(`Método HTTP no soportado: ${e}`)}return{success:!0,data:t.data,status:t.status}}catch(e){const r=e.response?.data?.message||e.message||"Error en la petición";return o(r),{success:!1,error:r,status:e.response?.status}}finally{t(!1)}}),[]);return{loading:r,error:n,get:a(((e,r={})=>i("get",e,null,r)),[i]),post:a(((e,r,t={})=>i("post",e,r,t)),[i]),put:a(((e,r,t={})=>i("put",e,r,t)),[i]),patch:a(((e,r,t={})=>i("patch",e,r,t)),[i]),delete:a(((e,r={})=>i("delete",e,null,r)),[i]),makeRequest:i}},De=({onCategoryCreated:r})=>{const[t,a]=e(""),[n,o]=e({}),[l,c]=e(""),d=Ie(),u=async e=>{if(e.preventDefault(),o({}),c(""),t.trim())try{const e=await d.post("/api/flashcard/category",{nombre:t.trim()});if(e.success){const t=e.data.data;return void(t&&t.nombre?(c("Categoría creada exitosamente"),a(""),r&&r(t)):o({general:"Error: estructura de datos inválida"}))}if(e.errors){const r={};Object.keys(e.errors).forEach((t=>{r[t]=Array.isArray(e.errors[t])?e.errors[t][0]:e.errors[t]})),o(r)}else o({general:"Error al crear la categoría"})}catch(e){if(l)return;if(e.response){const r=e.response.status,t=e.response.data;if(422===r&&t.errors){const e={};Object.keys(t.errors).forEach((r=>{e[r]=Array.isArray(t.errors[r])?t.errors[r][0]:t.errors[r]})),o(e)}else o({general:`Error ${r}: ${t.message||"Error del servidor"}`})}else o({general:"Error de conexión. Intenta nuevamente."})}else o({categoryName:"El nombre de la categoría es requerido"})};return s("div",{className:"bg-white rounded container-askt",children:[i("h2",{className:"text-2xl font-semibold mb-4 primary-color title-ask-container",children:"Crear Categoría"}),i("hr",{}),s("form",{onSubmit:u,children:[i(B,{type:"error",message:n.general}),i(B,{type:"success",message:l}),i(ye,{onSubmit:u,submitText:"Crear Categoría",loading:d.loading,children:i(be,{id:"categoryName",label:"Nombre de la Categoría",type:"text",value:t,onChange:e=>a(e.target.value),placeholder:"Ingresa el nombre de la categoría",error:n.categoryName||n.nombre,required:!0})})]})]})},Oe=({onFlashcardCreated:r,categories:n=[],className:o="",...c})=>{const[d,u]=e({pregunta:"",respuesta:"",url:"",imagen:null,url_respuesta:"",imagen_respuesta:null,selectedCategories:[]}),[m,g]=e({}),[p,h]=e(""),[f,b]=e({pregunta:!1,respuesta:!1}),[y,x]=e(!1),[v,w]=e(!1),[N,A]=e({pregunta:!1,respuesta:!1}),L=Ie();t((()=>{const e=f.pregunta||f.respuesta;x(e)}),[f.pregunta,f.respuesta]);const C=y||v,M=a(((e,r)=>{v||(u((t=>({...t,[e]:r}))),m[e]&&g((r=>({...r,[e]:null}))))}),[v,m]),j=(e,r)=>{v||u((t=>({...t,[e]:r,["url"===e?"imagen":"imagen_respuesta"]:r.trim()?null:t["url"===e?"imagen":"imagen_respuesta"]})))},k=(e,r)=>{v||u((t=>({...t,["imagen"===e?"imagen":"imagen_respuesta"]:r,["imagen"===e?"url":"url_respuesta"]:r?"":t["imagen"===e?"url":"url_respuesta"]})))},S=e=>{v||u("pregunta"===e?e=>({...e,url:"",imagen:null}):e=>({...e,url_respuesta:"",imagen_respuesta:null}))},T=async e=>{if(C)g((r=>({...r,[`ai_${e}`]:v?"No se puede generar IA mientras se está creando la flashcard.":"Ya hay una generación de IA en proceso. Espera a que termine."})));else{b((r=>({...r,[e]:!0}))),g((r=>({...r,[`ai_${e}`]:null})));try{let r="";r="pregunta"===e?d.respuesta?`Genera una pregunta de flashcard para esta respuesta: ${d.respuesta} pero que sea muy breve que es para la pregunta de una Flashcard y su dificultad debe ser a nivel de Medico Universitario.`:"Genera una pregunta de flashcard para una flashcard que sea muy breve que es para la pregunta de una Flashcard tiene que ser de caracter medico y su dificultad debe ser a nivel de Medico Universitario.":d.pregunta?`Genera una respuesta breve y clara para esta pregunta: ${d.pregunta} pero que sea muy breve que es para la respuesta de una Flashcard y su dificultad debe ser a nivel de Medico Universitario.`:"Genera una respuesta educativa para una flashcard que sea muy breve que es para la respuesta de una Flashcard y su dificultad debe ser a nivel de Medico Universitario.";const t=await L.get("/api/flashcard/ai-generate",{params:{type:e,prompt:r,current_text:d[e]}});if(t.success){const r=t.data?.data?.generated_text||t.data?.generated_text;r?(A((r=>({...r,[e]:!0}))),u((t=>({...t,[e]:r}))),setTimeout((()=>{A((r=>({...r,[e]:!1})))}),25*r.length)):g((r=>({...r,[`ai_${e}`]:"No se pudo generar el texto"})))}else g((r=>({...r,[`ai_${e}`]:t.error||"Error al generar contenido con IA"})))}catch(r){g((r=>({...r,[`ai_${e}`]:"Error de conexión con el servicio de IA"})))}finally{b((r=>({...r,[e]:!1})))}}};return s(l,{children:[i(Z,{show:v,message:"Creando flashcard...",subMessage:"Por favor espera, estamos procesando tu flashcard"}),s("div",{className:"bg-white p-6 rounded container-askt",children:[i("h1",{className:"text-2xl font-semibold mb-4 primary-color title-ask-container",children:"Crear Flashcard"}),i("hr",{}),s("form",{onSubmit:async e=>{if(e.preventDefault(),g({}),h(""),C)return void g({general:y?"Espera a que termine la generación de IA antes de enviar el formulario.":"Ya se está procesando la flashcard."});const t={};if(d.pregunta.trim()?d.pregunta.trim().length<=5&&(t.pregunta="La pregunta debe tener al menos 5 caracteres"):t.pregunta="La pregunta es requerida",d.respuesta.trim()?d.respuesta.trim().length<=2&&(t.respuesta="La respuesta debe tener al menos 2 caracteres"):t.respuesta="La respuesta es requerida",d.url.trim()&&d.imagen&&(t.imagen="No puedes subir una imagen y una URL al mismo tiempo para la pregunta"),d.url_respuesta.trim()&&d.imagen_respuesta&&(t.imagen_respuesta="No puedes subir una imagen y una URL al mismo tiempo para la respuesta"),Object.keys(t).length>0)g(t);else{w(!0);try{const e=new FormData;e.append("pregunta",d.pregunta.trim()),e.append("respuesta",d.respuesta.trim()),e.append("url",d.url.trim()),e.append("url_respuesta",d.url_respuesta.trim()),d.imagen&&e.append("imagen",d.imagen),d.imagen_respuesta&&e.append("imagen_respuesta",d.imagen_respuesta),d.selectedCategories.length>0&&e.append("categorias",JSON.stringify(d.selectedCategories));const t=await L.post("/api/flashcard",e,{headers:{"Content-Type":"multipart/form-data"}});if(t.success){const e=t.data.data||t.data.flashcard||t.data;h("Flashcard creada exitosamente"),u({pregunta:"",respuesta:"",url:"",imagen:null,url_respuesta:"",imagen_respuesta:null,selectedCategories:[]}),r&&e&&e.id&&r(e)}else if(422===t.status&&t.errors){const e={};Object.keys(t.errors).forEach((r=>{e[r]=Array.isArray(t.errors[r])?t.errors[r][0]:t.errors[r]})),g(e)}else g({general:t.error||"Error al crear la flashcard"})}catch(e){g({general:"Error de conexión. Intenta nuevamente."})}finally{w(!1)}}},className:"form-container-ask mt-4",children:[i(B,{type:"error",message:m.general}),i(B,{type:"success",message:p}),y&&!v&&i(B,{type:"info",message:"🤖 Generando contenido con IA... Por favor espera antes de usar otros botones.",className:"mb-4"}),i(Te,{id:"pregunta",label:"Pregunta",value:d.pregunta,onChange:e=>M("pregunta",e.target.value),placeholder:"Ingresa la pregunta",error:m.pregunta,required:!0,showAIButton:!0,onAIGenerate:()=>T("pregunta"),aiLoading:f.pregunta,aiDisabled:C&&!f.pregunta,disabled:v,animated:!0,aiAnimating:N.pregunta}),m.ai_pregunta&&i(B,{type:"error",message:m.ai_pregunta,className:"mb-4"}),i(Te,{id:"respuesta",label:"Respuesta",value:d.respuesta,onChange:e=>M("respuesta",e.target.value),placeholder:"Ingresa la respuesta",error:m.respuesta,required:!0,showAIButton:!0,onAIGenerate:()=>T("respuesta"),aiLoading:f.respuesta,aiDisabled:C&&!f.respuesta,disabled:v,animated:!0,aiAnimating:N.respuesta}),m.ai_respuesta&&i(B,{type:"error",message:m.ai_respuesta,className:"mb-4"}),s("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[i(Ne,{id:"imagen_pregunta",label:"Imagen de Pregunta",urlValue:d.url,fileValue:d.imagen,onUrlChange:e=>j("url",e),onFileChange:e=>k("imagen",e),onClear:()=>S("pregunta"),error:m.imagen||m.url,disabled:v}),i(Ne,{id:"imagen_respuesta",label:"Imagen de Respuesta",urlValue:d.url_respuesta,fileValue:d.imagen_respuesta,onUrlChange:e=>j("url_respuesta",e),onFileChange:e=>k("imagen_respuesta",e),onClear:()=>S("respuesta"),error:m.imagen_respuesta||m.url_respuesta,disabled:v})]}),i(ue,{categories:n,selectedCategories:d.selectedCategories,onChange:e=>M("selectedCategories",e)}),i(U,{type:"submit",variant:"primary",disabled:C,className:"boton-success-m w-full md:w-auto",children:v?s(l,{children:[s("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[i("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),i("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 814 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creando..."]}):y?"Esperando IA...":"Crear Flashcard"})]})]})]})},ze=({flashcards:r=[],categories:a=[],activeTabOverride:o,onStartGame:l,onCreateFlashcard:c,onCreateCategory:u,onEditFlashcard:m,onDeleteFlashcard:g,canEdit:p=!1,canDelete:h=!1,className:f="",...b})=>{const[y,x]=e("sin-categoria"),[v,w]=e([]),[N,A]=e({}),[L,C]=e(!1),M=Ie(),j=d();t((()=>{o&&(x(o),setTimeout((()=>{}),1e3))}),[o]);const k=n((()=>{const e=a.filter((e=>e&&void 0!==e.id&&void 0!==e.nombre));return[...[{id:"sin-categoria",name:"Sin Categoría",count:r.filter((e=>!e.category||"Sin Categoría"===e.category)).length}],...e.map((e=>({id:e.id,name:e.nombre,count:r.filter((r=>r.category===e.nombre)).length})))]}),[r,a]),S=n((()=>{let e=r;if("sin-categoria"===y)e=r.filter((e=>!e.category||"Sin Categoría"===e.category));else{const t=a.find((e=>e.id===y));t&&(e=r.filter((e=>e.category===t.nombre)))}const t=N[y]||"";return t.trim()&&(e=e.filter((e=>e.pregunta.toLowerCase().includes(t.toLowerCase())||e.respuesta.toLowerCase().includes(t.toLowerCase())))),e}),[r,a,y,N]),T=n((()=>[...new Set(r.map((e=>e.id)))]),[r]),E=n((()=>[...new Set(S.map((e=>e.id)))]),[S]),I=v.filter((e=>E.includes(e))).length,D=v.length===T.length&&T.length>0,O=I===E.length&&E.length>0;return s("div",{className:`bg-white rounded-lg shadow-sm border border-gray-200 ${f}`,...b,children:[i(ke,{tabs:k,activeTab:y,onTabChange:e=>{x(e)},showCounts:!0,className:"px-6 pt-6"}),i(je,{searchValue:N[y]||"",onSearchChange:e=>{A((r=>({...r,[y]:e.target.value})))},onClearSearch:()=>{A((e=>({...e,[y]:""})))},selectedCount:I,totalCount:E.length,placeholder:`Buscar en ${k.find((e=>e.id===y))?.name||"esta categoría"}...`,className:"mx-6 my-4"}),i(fe,{flashcards:S,selectedIds:v,onSelectFlashcard:e=>{w((r=>{const t=new Set(r);return t.has(e)?t.delete(e):t.add(e),Array.from(t)}))},onEditFlashcard:m,onDeleteFlashcard:g,canEdit:p,canDelete:h,className:"h-48"}),i(de,{selectedCount:v.length,totalCount:T.length,categorySelectedCount:I,categoryTotalCount:E.length,allSelected:D,categoryAllSelected:O,onStartGame:async()=>{if(0!==v.length){C(!0);try{const e=await M.post("/api/flashcard/start-game",{flashcard_ids:v,total_selected:v.length});e.success&&(l&&l(e.data),j("/game"))}catch(e){}finally{C(!1)}}},onSelectAll:()=>{w((e=>{const r=new Set(e);return T.forEach((e=>r.add(e))),Array.from(r)}))},onDeselectAll:()=>{w([])},onSelectCategory:()=>{w((e=>{const r=new Set(e);return E.forEach((e=>r.add(e))),Array.from(r)}))},onDeselectCategory:()=>{w((e=>{const r=new Set(E);return e.filter((e=>!r.has(e)))}))},onCreateFlashcard:c,onCreateCategory:u})]})},$e=({children:e,className:r="",...t})=>s("div",{className:`max-w-xl mx-auto p-6 container-full ${r}`,...t,children:[i("h1",{className:"text-3xl font-bold mb-6 text-indigo-700 primary-color title-ask-container",children:"Juego de Flashcards"}),i("hr",{className:"mb-6"}),e]}),Re=({children:e})=>i("div",{className:"py-12",children:i(G,{className:"main-chat-bot",children:i(me,{className:"box-chat",children:e})})}),Be=({user:r,menuItems:t=[],teams:a=[],currentTeam:n,onLogout:o,onTeamSwitch:l})=>{const[c,d]=e(!1);return i("nav",{className:"bg-white border-b border-gray-100 sticky top-0 z-[99]",children:i("div",{className:"w-full px-4 sm:px-6 lg:px-8",children:s("div",{className:"flex justify-between h-16",children:[i("div",{className:"shrink-0 flex items-center mr-24 pr-24",children:i("a",{href:process.env.REACT_APP_API_BASE_URL,children:i("img",{src:"/logo.png",alt:"MBS - Med By Students",className:"block h-9"})})}),i("div",{className:"hidden space-x-8 sm:flex items-center flex-1 justify-center",children:t.map(((e,r)=>s("a",{href:e.url,className:"inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium leading-5 transition duration-150 ease-in-out focus:outline-none "+(e.active?"border-indigo-400 text-gray-900 focus:border-indigo-700":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[e.name,e.need_premium&&i("span",{className:"ml-1 inline-block bg-yellow-400 text-xs text-white px-1 rounded",children:"PRO"})]},r)))}),s("div",{className:"hidden sm:flex sm:items-center sm:ml-6 space-x-3",children:[i(Pe,{currentTeam:n,teams:a,onTeamSwitch:l}),i(_e,{user:r,onLogout:o})]})]})})})},Pe=({currentTeam:r,teams:t=[],onTeamSwitch:a})=>{const[n,o]=e(!1);return s("div",{className:"relative",children:[s("button",{onClick:()=>o(!n),className:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-gray-500 bg-white hover:text-gray-700 focus:outline-none focus:bg-gray-50 active:bg-gray-50 transition ease-in-out duration-150",children:[r?.name||"Medicina",i("svg",{className:"ml-2 -mr-0.5 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",children:i("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 8.25l-7.5 7.5-7.5-7.5"})})]}),n&&i("div",{className:"absolute right-0 mt-2 w-48 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 z-50",children:s("div",{className:"py-1",children:[i("div",{className:"block px-4 py-2 text-xs text-gray-400",children:"Selecciona Materia"}),t.length>0?t.map((e=>i("button",{onClick:()=>{a(e.id),o(!1)},className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:e.name},e.id))):i("div",{className:"block px-4 py-2 text-sm text-gray-700",children:"No hay materias"})]})})]})},_e=({user:r,onLogout:t})=>{const[a,n]=e(!1);return s("div",{className:"relative",children:[i("button",{onClick:()=>n(!a),className:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-gray-500 bg-white hover:text-gray-700 focus:outline-none focus:bg-gray-50 active:bg-gray-50 transition ease-in-out duration-150",children:i("div",{className:"h-8 w-8 rounded-full bg-gray-300 flex items-center justify-center mr-2",children:r?.profile_photo_url?i("img",{className:"h-8 w-8 rounded-full object-cover",src:r.profile_photo_url,alt:r.name}):i("span",{className:"text-sm font-medium text-gray-700",children:r?.name?.split(" ").map((e=>e[0])).join("").toUpperCase()||"U"})})}),a&&s("div",{className:"absolute right-0 mt-2 w-48 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 z-50",children:[i("div",{className:"block px-4 py-2 text-xs text-gray-400",children:"administrar cuenta"}),s("div",{className:"py-1",children:[i("a",{href:"/profile",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"Perfil"}),i("div",{className:"border-t border-gray-200"}),i("button",{onClick:()=>{t(),n(!1)},className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"Cerrar Sesión"})]})]})]})},Ue=({title:e="Dashboard",icon:r,children:t,user:a,menuItems:n=[],teams:l=[],currentTeam:c,onLogout:d,onTeamSwitch:u})=>s("div",{className:"min-h-screen bg-gray-100 flex flex-col",children:[i(Be,{user:a,menuItems:n,teams:l,currentTeam:c,onLogout:d,onTeamSwitch:u}),e&&i("header",{className:"bg-white ml-48 mt-4 shadow w-fit",children:s("div",{className:"p-4 sm:px-6 lg:px-8 inline-flex items-center",children:[i(o,{icon:r?["fas",r]:["far","circle-question"],className:"mr-2"}),i("span",{className:"inline-block",children:i("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:e})})]})}),i("div",{className:"flex-1",children:i(Re,{children:t})}),i(V,{})]});export{de as ActionButtons,B as Alert,Ue as AppLayout,P as Badge,_ as Box,U as Button,Q as Card,De as CategoryForm,ue as CategorySelector,Y as Checkbox,G as Container,me as ContentBox,W as Dropdown,F as EscapeButton,ge as FileField,J as FileInput,pe as FlashcardFlip,Oe as FlashcardForm,ze as FlashcardList,fe as FlashcardSlider,V as Footer,be as FormField,ye as FormGroup,Z as FullScreenLoader,U as GameActionButton,U as GameButton,xe as GameCard,$e as GameContainer,X as GameIcon,H as GameImage,ve as GameProgressBar,X as Icon,q as IconButton,H as Image,H as ImagePreview,Ne as ImageUploadField,K as Input,ee as Label,re as Logo,Re as MainContent,te as MotivationalMessage,ae as NavLink,Be as Navigation,Ae as NavigationMenu,ne as Overlay,Le as PageHeader,Ce as PercentageCard,Me as ResultCard,je as SearchBar,oe as SearchInput,he as SelectFlashCard,se as Tab,ke as TabBar,Se as TeamDropdown,ie as TextArea,Te as TextAreaField,le as Title,ce as ToggleButton,Ee as UserDropdown};
